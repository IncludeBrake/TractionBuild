###############################################################################
# DEFAULT SOFTWARE BUILD
# Full software development workflow with validation, build, marketing, and launch.
###############################################################################
default_software_build:
  metadata:
    description: "Full software development workflow with validation, build, marketing, and launch"
    compliance: ["GDPR", "CCPA", "SOC2"]
    visualize: true
  sequence:
    - state: IDEA_VALIDATION
      crew: ValidatorCrew
    - state: GRAPH_GENERATION
      crew: ExecutionCrew
      conditions:
        all:
          - { field: "validation.confidence", operator: ">", value: 0.8 }
          - { field: "validation.passed", operator: "==", value: true }
      on_fail:
        action: escalate_to
        workflow: "validation_and_launch"
    - state: TASK_EXECUTION
      crew: BuilderCrew
    - parallel:
        - state: MARKETING_PREPARATION
          crew: MarketingCrew
        - state: LAUNCH_PREPARATION
          crew: LaunchCrew
    - state: FEEDBACK_COLLECTION
      crew: FeedbackCrew
    - state: COMPLETED
      crew: null # Terminal state

###############################################################################
# VALIDATION AND LAUNCH
# For non-software products or when the build is handled separately.
###############################################################################
validation_and_launch:
  metadata:
    description: "Validation-focused workflow with marketing and launch preparation"
    compliance: ["GDPR", "CCPA"]
    visualize: true
  sequence:
    - state: IDEA_VALIDATION
      crew: ValidatorCrew
    - parallel:
        - state: MARKETING_PREPARATION
          crew: MarketingCrew
        - state: LAUNCH_PREPARATION
          crew: LaunchCrew
      conditions:
        all:
          - { field: "validation.confidence", operator: ">", value: 0.7 }
          - { field: "validation.passed", operator: "==", value: true }
      on_fail:
        action: escalate_to
        workflow: "rapid_prototype"
    - state: FEEDBACK_COLLECTION
      crew: FeedbackCrew
    - state: COMPLETED
      crew: null

###############################################################################
# JUST THE BUILD
# For executing a build for an already validated idea.
###############################################################################
just_the_build:
  metadata:
    description: "Build-only workflow for existing validated ideas"
    compliance: ["SOC2"]
    visualize: true
  sequence:
    - state: TASK_EXECUTION
      crew: BuilderCrew
    - state: FEEDBACK_COLLECTION
      crew: FeedbackCrew
    - state: COMPLETED
      crew: null

###############################################################################
# MARKETING FOCUS
# For products that are built but need a full marketing and launch strategy.
###############################################################################
marketing_focus:
  metadata:
    description: "Marketing-focused workflow for validated ideas"
    compliance: ["GDPR", "CCPA"]
    visualize: true
  sequence:
    - state: IDEA_VALIDATION # Still good practice to re-validate context
      crew: ValidatorCrew
    - state: MARKETING_PREPARATION
      crew: MarketingCrew
      conditions:
        all:
          - { field: "validation.passed", operator: "==", value: true }
    - state: LAUNCH_PREPARATION
      crew: LaunchCrew
    - state: COMPLETED
      crew: null

###############################################################################
# RAPID PROTOTYPE
# A quick loop for fast validation and iteration.
###############################################################################
rapid_prototype:
  metadata:
    description: "Rapid prototyping workflow for quick validation"
    compliance: ["SOC2"]
    visualize: true
  sequence:
    - state: IDEA_VALIDATION
      crew: ValidatorCrew
    - state: TASK_EXECUTION
      crew: BuilderCrew
      conditions:
        all:
          - { field: "validation.confidence", operator: ">", value: 0.6 }
    - loop:
        state_prefix: QUICK_FEEDBACK
        crew: FeedbackCrew
        max_iterations: 2
        break_conditions:
          any:
            - { field: "feedback.quick_approval", operator: "==", value: true }
            - { field: "feedback.rejected", operator: "==", value: true }
    - state: COMPLETED
      crew: null

###############################################################################
# ENTERPRISE WORKFLOW
# Comprehensive workflow with stringent compliance and validation checks.
###############################################################################
enterprise_workflow:
  metadata:
    description: "Enterprise-grade workflow with comprehensive compliance"
    compliance: ["GDPR", "CCPA", "SOC2", "HIPAA"]
    visualize: true
  sequence:
    - state: IDEA_VALIDATION
      crew: ValidatorCrew
    - state: GRAPH_GENERATION
      crew: ExecutionCrew
      conditions:
        all:
          - { field: "validation.confidence", operator: ">", value: 0.9 }
          - { field: "validation.compliance_ready", operator: "==", value: true }
    - state: TASK_EXECUTION
      crew: BuilderCrew
    - parallel:
        - state: MARKETING_PREPARATION
          crew: MarketingCrew
        - state: LAUNCH_PREPARATION
          crew: LaunchCrew
        - state: COMPLIANCE_CHECK
          crew: FeedbackCrew # Uses ComplianceCheckerTool
    - state: FEEDBACK_COLLECTION
      crew: FeedbackCrew
    - state: COMPLETED
      crew: null

###############################################################################
# HARDWARE PROTOTYPE
# A specialized workflow for physical product development.
###############################################################################
hardware_prototype:
  metadata:
    description: "Hardware prototyping workflow"
    compliance: ["SOC2"]
    visualize: true
  sequence:
    - state: IDEA_VALIDATION
      crew: ValidatorCrew
    - state: HARDWARE_DESIGN
      crew: BuilderCrew # Would use specialized hardware design agents/tools
      conditions:
        all:
         - { field: "validation.passed", operator: "==", value: true }
    - state: PROTOTYPE_BUILD
      crew: BuilderCrew
    - loop:
        state_prefix: HARDWARE_TESTING
        crew: FeedbackCrew
        max_iterations: 5
        break_conditions:
          all:
            - { field: "testing.passed", operator: "==", value: true }
    - state: COMPLETED
      crew: null